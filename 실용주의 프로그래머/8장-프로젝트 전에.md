# 8장. 프로젝트 전에
프로젝트를 시작하기 전에 파악해야할 것들, 프로젝트의 진행 방식 등에 대한 학습

## Topic 45. 요구 사항의 구렁텅이
완성 = 더 이상 더할 것이 없을 때가 아니라 더 이상 뺄 것이 없을 때 달성되는 것

많은 책과 튜토리얼에 따르면, `요구 사항 수집`은 프로젝트 초기에 이뤄진다.  
하지만 사실은 그렇지 않다.

요구사항이 명확하게 드러나 있는 경우는 드물고, 보통은 잘 보이지 않게 숨겨져 있다.

**요구 사항 미신**  
소프트웨어 산업 초창기, `컴퓨터`가 `컴퓨터를 다루는 사람`보다 더 비쌌던 시절에는 단 한번에 제대로 동작하는 프로그램을 만들어서 비용을 절약하는 것이 중요했다.

이를 위해 기계가 해야할 일을 정확하게 기술하는 것이 중요햇는데, 다음과 같은 과정이 따랐다.
- 요구 사항의 명세 구하기
- 설계 문서 만들기
- 순서도와 의사 코드를 만들기
- 이를 최종적으로 코드로 만들고 사람이 한 번 더 검사하기

이런 과정들은 비용이 많이 들기 때문에,  
사람들은 자신이 원하는 것을 정확히 알 때만 자동화를 시도하게 되었다.

하지만 현실에는 엉망이고 알 수 없는 점도 많기 때문에,  
정확한 명세란 것은 거의 불가능하다고 볼 수 있다.

여기서 프로그래머의 역할은,  
`사람들이 자신이 원하는 바를 깨닫도록 돕는 것` 이다.


**상담 치료로서의 프로그래밍**  
우리에게 소프트웨어 작성을 요청하는 사람들, 의뢰인들이 있다. (ex, 툴 사용자, 기획자 등..)

여기서 신입 개발자들이 자주 하는 실수는 `의뢰인들의 요청에 대해 바로 해결책을 구현해 버리는 것` 이다.

저자의 경험상, 최초의 요청 사항은 궁극적인 요구사항이 아니다.  
(최초의 요청은 의뢰인이 인식하지 못하는 궁극적인 요구사항을 파악하기 위한 의뢰이다.)

ex) 종이책과 전자책을 파는 온라인 서점에서 일하는 예시.  
다음과 같은 새로운 요구사항을 받았다고 하자
```text
5만원 이상인 모든 주문은 배송비가 무료입니다.
```

위 요구사항에 대해 다음 의문점들이 떠오를 수 있다.
```text
- 어떤 종류의 배송이 무료인가? 당일 배송, 일반 배송? 아니면 둘 다?
- 국제 배송은?
- 5만원에 배송비도 포함시켜야 하는가?
- 5만원에 세금도 포함시켜야 하는가?
- 5만원 이상인 주문에 배송과 관련 없는 전자책이 포함되어도 되는가?
- 나중에 5만원 기준이 바뀔 수 있는가?
...
```

이것이 우리가 해야하는 일이다.

의뢰인이 이런 문제에 대해 이미 생각해봤다면,  
어떤 식으로 구현해야 한다는 계획이 잇을 것이므로 정보를 끄집어내기만 하면 된다.

의뢰인이 이런 문제를 고려해보지 않았다면,  
의뢰인과의 협의가 필요하다.

```text
위에서 나온 의문점들을 의뢰인에게 물어 어떤 방식으로 해결해야할지 정한다.
```

우리는 이런 과정을 통해 순간적으로 판단을 내리며 해결책을 만드는 데 참여한다.  
이런 해결책은 의뢰인이나 개발자가 혼자 만들어내는 해결책보다 더 좋을 것이다.

**요구 사항은 과정이다**  
개발자의 임무는 의뢰인에게 그들이 제시한 요구 사항의 여파를 깨우쳐주는 것이다.  
의뢰인은 이런 피드백을 바탕으로 자기 생각을 더 가다듬는다.

가끔은 익숙하지 않은 분야여서 구체적으로 피드백을 주기 어려울 수도 있다.  
이럴 때 실용주의 프로그래머는 모형, 프로토타입을 만들어서 의뢰인이 다뤄볼 수 있도록 한다.  
이런 모형은 공들여 만들 필요 없이 생각만 전달할 수 있으면 된다.

프로젝트가 막바지에 이르면 의뢰인의 수가 늘어난드. QA, 운영팀, 마케팅, 고객사 등...  
우리서 우리는 요구사항의 수집과 피드백의 과정을 짧은 주기로 반복하는 것을 선호한다.  

짧은 주기로 반복하여 프로젝트가 궤도에서 벗어나지 않게 할 수 있고,  
만약 잘못되더라도 잃는 시간을 최소화할 수 있다.

**의뢰인의 입장에서 보라**  
의뢰인의 입장에서 생각하고, 직접 의뢰인처럼 일해봐라.  
재고 관리 시스템을 담당하고 있다면, 창고에서 일주일간 일해보아라.

시스템이 어떻게 사용될지 통찰을 얻을 수 있을 뿐 아니라,  
의뢰인과 신뢰를 구축하고 의사소통의 기반을 다지는 데에 큰 도움이 될 것이다.

**요구 사항 대 정책**  
인사 관리 시스템에 대해 상의하는 도중 의뢰인이 다음과 같이 말했다.
```text
직원의 기록은 해당 직원의 관리자와 인사팀만 열람할 수 있습니다.
```
이 진술이 진짜로 요구사항일까? 오늘은 그럴 수도 있다.  
하지만 이 진술 속엔 사업 정책이 포함되어 있다.

`사업 쟁책`, `요구 사항` 그 차이는 미묘하지만 개발자에게는 중대한 의미가 있다.

만약 요구사항이,  
`인사팀에서만 직원 기록을 열람할 수 있다.` 라는 식으로 되어있다면  
개발자는 애플리케이션이 이 데이터에 접근할 때마다 인사팀인지 확인하는 코드를 작성할 것이다.

반면
`권한이 있는 사용자만이 직원 기록에 접근할 수 있다.` 라는 식으로 되어있다면
개발자는 일종의 접근 관리 시스템을 설계하고 구현할 것이다.

그러면 정책이 바뀔 때(실제로 바뀜) 시스템의 메타데이터만 업데이트 하면 된다.  
이런식으로 요구 사항을 수집하면 자연스럽게 메타데이터를 지원하는 잘 분리된 시스템이 만들어질 것이다.

`정책은 메타데이터 이다.`

**요구 사항 대 현실**  
음악 프로듀서이자 음각가인 브라이언 이노가 새로운 믹싱 보드를 소개했다.
이 믹싱 보드는 소리를 갖고 무엇이든 할 수 있는 기술의 집합체였다.

유용한 장비이지만 결론적으로 음악가들의 창조활동을 방해했다.

왜 그랬는지 알아보면..

녹음 엔지니어는 소리를 직관적으로 조절한다.  
자신의 귀와 손가락으로 익숙한 조절 장치들을 다루면서 소리를 다루는 기술을 발전시켰다.

하지만 이 믹싱 보드의 인터페이스 에서는 이런 능력을 쓸 수 없었다.  
이 믹싱 보드가 제공하는 기능은 충분했지만 키보드와 마우스를 사용하는 것이 매우 생소했기 때문이다.

어떤 도구가 성공하기 위해선 사용하는 사람의 손에 적응할 수 있어야 한다.  
그래서 프로토타입을 이용한 빠른 피드백으로 의뢰인으로부터 반응을 얻어야 한다.

**요구 사항 문서화**  
개발자는 유일한 요구 사항 문서가 작동하는 코드라 믿는다.

이것이 의뢰인이 원하는 바를 문서로 정리 하지 않아도 된다는 뜻은 아니다.  
문서는 목표가 아니고 구현과정에서 안내 역할을 하는 이정표이다.

- 요구 사항 문서는 의뢰인을 위한 것이 아니다.

의뢰인의 모든 요구를 과할정도로 상세하게 작성하는 문서를 만드는 것은 두가지 면에서 틀렸다.
1. 의뢰인은 자신이 원하는 것을 처음에는 잘 모른다.   
따라서 의뢰인의 말을 확정하여 상세하게 만든 문서는 사상누각(모래위에 쌓은 누각, 겉은 번듯하나 토대나 기초가 부실한 존재)에 불과하다.
2. 의뢰인은 세부 사항보다는 문제를 푸는데에 관심이 있다.  
반면 개발자는 세부 사항과 미묘한 차이 하나에 관심을 둔다. 이런 차이를 상세하게 기술한 문서는 의뢰인이 보기에 이해하기 어렵다.  
요구 사항 문서는 개발자를 위한 것이다.


- 요구 사항 문서는 계획을 위한 것이다.

상세하고 두툼한 요구 사항 문서는 필요 없다는 것을 확인했다.  
그래도 팀 개발자들이 무엇을 해야하는지 알아야 하기 위해 요구 사항을 적기는 해야한다.

어떤 형식으로 적어야 할까?  
작은 인덱스카드, 포스트잇 정도 사이즈에 들어갈 정도로 적는 방식을 선호한다.  
이렇게 하면 요구사항을 화이트보이트 붙일 수 있고, 상태나 우선순위 표현을 위해 이리저리 옮길 수도 있다.

요구사항을 전부 담기에 작을 수 있다.  
하지만 이는 명확하지 않은 부분은 물어보도록 유도하여 의뢰인과의 피드백 과정을 활발하게 할 수 있다.

**지나치게 자세한 명세**  
좋은 요구 사항은 추상적이다.  
필요한 사항을 정확히 반영하는 가장 간단한 표현이 최고다.

**딱 하나만 더......**  
(의뢰인과의 피드백이 중요하다는 예기 반복)

**용어 사전 관리하기**  
사용자나 도메인 전문가들은 그들에게 특별한 의미가 있는 용어들을 사용할 것이다.  

`프로젝트 용어 사전`을 만들고 관리하라.  
프로젝트에서 사용하는 모든 용어와 어휘를 모아 놓은 단 하나의 장소여야 한다.

최종사용자에서 부터 프로젝트에 참가하는 모든 사람이 일관성을 위해 동일한 용어 사전을 사용해야한다.  
이를 위해 용어 사전에 접근하기가 쉬워야 한다.(온라인 문서가 적합하다)


## Topic 46. 불가능한 퍼즐 찾기
```text
프리이가의 왕 고르디우스는 아무도 풀 수 없는 매듭을 만들고 이 매듭을 푸는 자가 아시아를 지배할 것이라 했다.
알렉산더 대왕은 검으로 그 매듭을 베어버렸다.
```

프로젝트를 진행할 때도 마찬가지.

풀기 불가능해보이는 문제가 있을땐,   
제약조건(매듭을 자르지 말고 풀어야 한다는..)이 사실인지 확인하고 그 속에서 해법을 찾자.

많은 소프트웨어 문제가 사실은 제약조건이 아닌 제약조건을 가진듯한 문제일지도 모른다.

**자유도**  
`생각의 틀을 벗어나라`

위 경구는 유효하지 않은 제약조건을 인식하고 그것을 무시한다.  

위 경구가 정확한 말은 아니다.  
틀(제약조건)을 파악하는 것이 중요하다.

틀을 인식하고 자유도를 파악하는 것이 해결의 열쇠다.  
모든 션입견을 의심하고 진짜 바꿀 수 없는 제약인지 가늠해 봐야 한다.


**자신만의 방법에서 빠져나오라**  
접근이 잘못되었다고 해결이 느껴지거나 불가능하다는 생각이 들 때 일을 잠시 미뤄라.

무의식이 문제를 해결할 수 있다.

만약 문제에 손을 떼고 싶지 않다면,  
다른 사람과 문제에 대해 이야기하라.  
이야기하는 것으로 주의를 돌리기만 해도 깨달음을 얻을 때가 있다.

**행운은 준비된 사람에게 찾아온다**  
`관찰을 할 때, 행운은 준비된 사람에게 찾아온다. - 루이 파스퇴르`

문제해결의 순간을 경험하기 위해 무의식의 영역에 경험과 정보를 계속 주입해야한다.

경험과 정보를 주입하는 가장 좋은 방법은 무엇이 잘되고 무엇이 안되는지 피드백을 주는 것이다.

## Topic 47. 함께 일하기

- 시스템은 수명을 다해가고, 만들어야할 신규시스템은 기존 시스템을 똑같이 구현해야한다.  
- 이 시스템을 통해 수천억원의 돈이 오간다.
- 하드웨어는 물리적으로 곧 폐기 예정이고 운영 개시까지 몇개월만이 남았다.

위와 같은 프로젝트는 불가능해 보이며 두려움이 느껴진다.

위 프로젝트를 성공할 수 있었던 이유는,  
기존 시스템을 관리한 전문가가 근처에 있어서 설명을 듣고, 질문하고, 결정을 부탁하고, 시연을 보여줄 수 있었다.

=> 사용자와 밀접하게 일할 수 있었다.

요즘 방식으로는 `짝 프로그래밍` 또는 `몸 프로그래밍`이라고 불릴 방식으로 프로젝트를 진행했다.    
한 사람이 코드를 입력하는 동안 한명 또는 여러명의 팀동료가 조언하고 고민하는,   
이런 방식은 회의나 제안서, 문서보다 낫다

**짝 프로그래밍**
한명은 키보드를 조작, 나머지 한명과 함께 문제를 푸는 방식

인간 한명의 뇌 용량은 제한적이다.  
짝 프로그래밍을 통해 두번째 개발자의 뇌 전체를 추가로 사용할 수 있다.

또한 다른 사람이 지켜보기 때문에 꼼수를 쓰기가 민망해서 덜 쓰게 된다.  
=> 결과적으로 소프트웨어 품질이 좋아진다

**몹 프로그래밍**  
입력은 한명이, 두 명이상의 사람과 함께 문제를 푸는 방식

짝 프로그래밍의 장점과 더불어 개발팀의 일부러 여겨지지 않는 사용자, 테스터와 같은 사람도 쉽게 끌어들일 수 있다.

**무엇을 해야 할까?**  
짝 프로그래밍을 두시간씩 해봐라

새로운 아이디어를 모아야 하거나 어려운 문제를 분셕해야 한다면 몹 프래그래밍을 해봐라.

이미 하고 있다면 사용자, 테스터 등 더 넒은 범위의 팀원과도 해봐라.

함께 일할 때 기술적인 면 외에 인간적인 측면도 신경 써야 한다
- 단지 코드를 짜는 것이다. 누가 똑똑한지 겨루는 것이 아니다
- 소규모로 시작하라
- 코드만 비판하라. 사람을 비판하지 말라
- 다른 사람의 관점을 듣고 이해하라. 다른거지 틀린게 아니다
- 자주 회고하고 개선할 점을 찾아라

## Topic 48. 애자일의 핵심
agile, 기민하다.

애자일은 무언가를 하는 방식이다.

요즘의 애자일의 의미가 변질되는 모습이 보이기도 한다.  
애자일 선언(https://agilemanifesto.org/iso/ko/manifesto.html)에서 언급한 가치를 기억하자

```text
- 공정과 도구보다 개인과 상호 작용
- 포괄적인 문서보다 작동하는 소프트웨어
- 계약 협상보다 고객과의 협력
- 계획을 따르기보다 변화에 대응
```

왼쪽에 있는 것도 가치가 있으나 오른쪽에 있는 것에 더 높은 가치를 둔다.

**애자일 프로세스라는 것은 있을 수 없다**  
누군가 "이걸 하세요. 그러면 애자일입니다." 라고 한다면 이건 틀린 말이다

애자일은 기민함. 기민함은 변화에 대응하는 것이다.

개발팀이나 개발자 개인에게도 마찬가지이다.  
소프트웨어 개발에서 따라야 할 단 한 가지 계획이란 없다.

피드백을 수집하고 그에 대응하라.

애플리케이션은 도구, 회사, 고객, 등에 따라 다르다.  
엄청나게 많은 요인이 있고 이렇게 불확실한 환경이라면 고정되어 바뀌지 않는 계획은 살아남을 수 없다.

**그래서 우리는 무엇을 해야 할까?**  
누구도 무엇을 하라고 말할 수 없다.  

중요한 것은 불확실성을 어떻게 다룰 것인가 하는 문제이다.

애자일 선언은 피드백을 모으고 그에 맞게 행동해서 불확실성을 헤처 나가라고 제안한다. 

애자일하게 일하는 방법은 다음과 같다
1. 자신이 어디에 있는지 알아내라
2. 도달하고 싶은 곳을 향해 작은 발걸음을 움직여라
3. 어디에 도착했는지 평가하고, 망가진 게 있으면 고쳐라

위 과정을 끝날때까지 반복하라.

**이 과정이 설계를 주도한다**  
좋은 설계의 척도는 설계의 결과물을 얼마나 바꾸기 쉬운지 이다.

애자일에 대한 이 논의는 왜 바꾸기 쉬워야 하는지를 알려준다.

피드백 고리를 효율적으로 만들기 위해 고치는 일이 쉬워야 한다.

그렇지 않다면 망가진 채로 놔두고 싶은 유혹에 빠질 것이다.

바꾸기 슆다면 아무런 주저 없이 문제를 바로잡을 수 있을 것이다.
