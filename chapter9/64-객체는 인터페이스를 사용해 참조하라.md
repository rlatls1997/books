## 64. 객체는 인터페이스를 사용해 참조하라

적합한 인터페이스만 있다면 매개변수뿐 아니라 반환값, 변수, 필드를 전부 인터페이스 타입으로 선언하라. 객체의 실제 클래스를 사용해야할 상황은 오직 생성자로 생성할 때 뿐이다.

ex)

```java
//좋은예
Set<Son> sonSet = new LinkedHashSet<>();

//나쁜예
LinkedHashSet<Son> sonSet = new LinkedHashSet<>();
```

**인터페이스를 타입으로 사용하는 습관은 프래그램을 유연하게 만든다.**

구현 클래스를 교체하고자 할 떄 쉽게 교체할 수 있다.

주의할 점은,

원래의 클래스가 인터페이스의 일반 규약 이외의 특별한 기능을 제공하며 주변 코드가 이 기능에 기대어 동작한다면 새로운 클래스도 반드시 같은 기능을 제공해야한다.

구현타입을 바꾸는 데의 이유는,

원래의 구현체보다 성능이 좋거나 멋진 신가능을 사용할 수 있기 때문이다.

**적합한 인터페이스가 없다면 클래스로 참조해야 한다**

1. String, BigInteger등의 경우,

여러가지로 구현될 수 있다는 생각 없이 설계된 클래스는 클래스로 참조해야한다.

1. 클래스 기반으로 작성된 프레임워크가 제공하는 객체

OutputStream등 java.io패키지의 여러클래스가 여기에 속한다

1. 인터페이스에는 없는 특별한 메서드를 제공하는 클래스들

PriorityQueue클래스의 경우 Queue인터페이스에는 없는 comparator메서드를 제공한다.. 클래스 타입을 직접 사용하는 경우는 이런 추가 메서드를 꼭 사용해야 하는 경우로 최소화해야한다.

**적합한 인터페이스가 없다면 클래스의 계층구조 중 필요한 기능을 만족하는 가장 덜 구체적인 상위의 클래스를 타입으로 사용하자**